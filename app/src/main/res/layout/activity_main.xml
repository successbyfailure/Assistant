<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <com.google.android.material.appbar.AppBarLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.google.android.material.appbar.MaterialToolbar
            android:id="@+id/toolbar"
            android:layout_width="match_parent"
            android:layout_height="?attr/actionBarSize"
            app:title="Assistant Config" />

        <com.google.android.material.tabs.TabLayout
            android:id="@+id/tab_layout"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:tabIndicatorFullWidth="false" />

    </com.google.android.material.appbar.AppBarLayout>

    <androidx.core.widget.NestedScrollView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        app:layout_behavior="@string/appbar_scrolling_view_behavior">

        <LinearLayout
            android:id="@+id/main_linear_layout"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="16dp">

            <LinearLayout
                android:id="@+id/section_endpoints"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical">

                <Button
                    android:id="@+id/btn_set_default"
                    style="@style/Widget.Material3.Button.TonalButton"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Set as Default Assistant" />

                <com.google.android.material.divider.MaterialDivider
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginVertical="16dp" />

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">
                    <TextView
                        android:layout_width="0dp"
                        android:layout_weight="1"
                        android:layout_height="wrap_content"
                        android:text="Endpoints"
                        android:textAppearance="@style/TextAppearance.Material3.TitleMedium" />
                    <Button
                        android:id="@+id/btn_add_template"
                        style="@style/Widget.Material3.Button.TextButton"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Templates" />
                </LinearLayout>

                <androidx.recyclerview.widget.RecyclerView
                    android:id="@+id/rv_endpoints"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:minHeight="100dp" />

                <Button
                    android:id="@+id/btn_add_endpoint"
                    style="@style/Widget.Material3.Button.TextButton"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="+ Add Manual" />

                <com.google.android.material.divider.MaterialDivider
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginVertical="16dp" />
            </LinearLayout>

            <LinearLayout
                android:id="@+id/section_categories"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Categories"
                    android:textAppearance="@style/TextAppearance.Material3.TitleMedium" />

                <androidx.recyclerview.widget.RecyclerView
                    android:id="@+id/rv_categories"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content" />
            </LinearLayout>

            <LinearLayout
                android:id="@+id/section_tools"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:visibility="gone">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Tools y permisos"
                    android:textAppearance="@style/TextAppearance.Material3.TitleMedium"
                    android:layout_marginBottom="8dp" />

                <com.google.android.material.materialswitch.MaterialSwitch
                    android:id="@+id/sw_tools_enabled"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Activar tools (function calling)" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="12dp"
                    android:text="Habilitar / Preguntar"
                    android:textAppearance="@style/TextAppearance.Material3.TitleSmall" />

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginTop="8dp">

                    <TextView
                        android:layout_width="0dp"
                        android:layout_weight="1"
                        android:layout_height="wrap_content"
                        android:text="SMS" />

                    <com.google.android.material.materialswitch.MaterialSwitch
                        android:id="@+id/sw_tool_sms"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Habilitar"
                        app:thumbTint="@color/switch_enabled_thumb"
                        app:trackTint="@color/switch_enabled_track" />

                    <com.google.android.material.materialswitch.MaterialSwitch
                        android:id="@+id/sw_tool_ask_sms"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Preguntar"
                        app:thumbTint="@color/switch_ask_thumb"
                        app:trackTint="@color/switch_ask_track" />
                </LinearLayout>

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginTop="8dp">

                    <TextView
                        android:layout_width="0dp"
                        android:layout_weight="1"
                        android:layout_height="wrap_content"
                        android:text="Llamadas" />

                    <com.google.android.material.materialswitch.MaterialSwitch
                        android:id="@+id/sw_tool_call"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Habilitar"
                        app:thumbTint="@color/switch_enabled_thumb"
                        app:trackTint="@color/switch_enabled_track" />

                    <com.google.android.material.materialswitch.MaterialSwitch
                        android:id="@+id/sw_tool_ask_call"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Preguntar"
                        app:thumbTint="@color/switch_ask_thumb"
                        app:trackTint="@color/switch_ask_track" />
                </LinearLayout>

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginTop="8dp">

                    <TextView
                        android:layout_width="0dp"
                        android:layout_weight="1"
                        android:layout_height="wrap_content"
                        android:text="Alarmas" />

                    <com.google.android.material.materialswitch.MaterialSwitch
                        android:id="@+id/sw_tool_alarm"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Habilitar"
                        app:thumbTint="@color/switch_enabled_thumb"
                        app:trackTint="@color/switch_enabled_track" />

                    <com.google.android.material.materialswitch.MaterialSwitch
                        android:id="@+id/sw_tool_ask_alarm"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Preguntar"
                        app:thumbTint="@color/switch_ask_thumb"
                        app:trackTint="@color/switch_ask_track" />
                </LinearLayout>

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginTop="8dp">

                    <TextView
                        android:layout_width="0dp"
                        android:layout_weight="1"
                        android:layout_height="wrap_content"
                        android:text="Abrir apps" />

                    <com.google.android.material.materialswitch.MaterialSwitch
                        android:id="@+id/sw_tool_open_app"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Habilitar"
                        app:thumbTint="@color/switch_enabled_thumb"
                        app:trackTint="@color/switch_enabled_track" />

                    <com.google.android.material.materialswitch.MaterialSwitch
                        android:id="@+id/sw_tool_ask_open_app"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Preguntar"
                        app:thumbTint="@color/switch_ask_thumb"
                        app:trackTint="@color/switch_ask_track" />
                </LinearLayout>

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginTop="8dp">

                    <TextView
                        android:layout_width="0dp"
                        android:layout_weight="1"
                        android:layout_height="wrap_content"
                        android:text="Contactos" />

                    <com.google.android.material.materialswitch.MaterialSwitch
                        android:id="@+id/sw_tool_contacts"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Habilitar"
                        app:thumbTint="@color/switch_enabled_thumb"
                        app:trackTint="@color/switch_enabled_track" />

                    <com.google.android.material.materialswitch.MaterialSwitch
                        android:id="@+id/sw_tool_ask_contacts"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Preguntar"
                        app:thumbTint="@color/switch_ask_thumb"
                        app:trackTint="@color/switch_ask_track" />
                </LinearLayout>

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginTop="8dp">

                    <TextView
                        android:layout_width="0dp"
                        android:layout_weight="1"
                        android:layout_height="wrap_content"
                        android:text="Ubicacion" />

                    <com.google.android.material.materialswitch.MaterialSwitch
                        android:id="@+id/sw_tool_location"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Habilitar"
                        app:thumbTint="@color/switch_enabled_thumb"
                        app:trackTint="@color/switch_enabled_track" />

                    <com.google.android.material.materialswitch.MaterialSwitch
                        android:id="@+id/sw_tool_ask_location"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Preguntar"
                        app:thumbTint="@color/switch_ask_thumb"
                        app:trackTint="@color/switch_ask_track" />
                </LinearLayout>

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginTop="8dp">

                    <TextView
                        android:layout_width="0dp"
                        android:layout_weight="1"
                        android:layout_height="wrap_content"
                        android:text="Clima" />

                    <com.google.android.material.materialswitch.MaterialSwitch
                        android:id="@+id/sw_tool_weather"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Habilitar"
                        app:thumbTint="@color/switch_enabled_thumb"
                        app:trackTint="@color/switch_enabled_track" />

                    <com.google.android.material.materialswitch.MaterialSwitch
                        android:id="@+id/sw_tool_ask_weather"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Preguntar"
                        app:thumbTint="@color/switch_ask_thumb"
                        app:trackTint="@color/switch_ask_track" />
                </LinearLayout>

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginTop="8dp">

                    <TextView
                        android:layout_width="0dp"
                        android:layout_weight="1"
                        android:layout_height="wrap_content"
                        android:text="Notificaciones" />

                    <com.google.android.material.materialswitch.MaterialSwitch
                        android:id="@+id/sw_tool_notifications"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Habilitar"
                        app:thumbTint="@color/switch_enabled_thumb"
                        app:trackTint="@color/switch_enabled_track" />

                    <com.google.android.material.materialswitch.MaterialSwitch
                        android:id="@+id/sw_tool_ask_notifications"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Preguntar"
                        app:thumbTint="@color/switch_ask_thumb"
                        app:trackTint="@color/switch_ask_track" />
                </LinearLayout>

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btn_permissions"
                    style="@style/Widget.Material3.Button.TonalButton"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="8dp"
                    android:text="Abrir ajustes de permisos" />

                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="12dp"
                    android:hint="Timeout tools (ms)">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/et_tool_timeout"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="number" />
                </com.google.android.material.textfield.TextInputLayout>

            </LinearLayout>

            <LinearLayout
                android:id="@+id/section_prompts"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:visibility="gone">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Prompts del agente"
                    android:textAppearance="@style/TextAppearance.Material3.TitleMedium"
                    android:layout_marginBottom="8dp" />

                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="12dp"
                    android:hint="Prompt del sistema">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/et_system_prompt"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:minLines="3"
                        android:inputType="textMultiLine" />
                </com.google.android.material.textfield.TextInputLayout>

                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="12dp"
                    android:hint="Prefijo del usuario (opcional)">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/et_user_prompt_prefix"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:minLines="2"
                        android:inputType="textMultiLine" />
                </com.google.android.material.textfield.TextInputLayout>

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btn_save_prompts"
                    style="@style/Widget.Material3.Button"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Guardar prompts" />

                <com.google.android.material.divider.MaterialDivider
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginVertical="16dp"
                    app:dividerColor="?attr/colorOutlineVariant"
                    android:alpha="0.3" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Shortcuts de voz"
                    android:textAppearance="@style/TextAppearance.Material3.TitleSmall"
                    android:layout_marginBottom="8dp" />

                <com.google.android.material.materialswitch.MaterialSwitch
                    android:id="@+id/sw_voice_shortcut"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Activar palabra clave" />

                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="8dp"
                    android:hint="Palabra clave (ej: Asistente)">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/et_voice_shortcut"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="textCapSentences" />
                </com.google.android.material.textfield.TextInputLayout>
            </LinearLayout>

            <LinearLayout
                android:id="@+id/section_appearance"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:visibility="gone">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Apariencia"
                    android:textAppearance="@style/TextAppearance.Material3.TitleMedium"
                    android:layout_marginBottom="8dp" />

                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="12dp"
                    android:hint="Modo de tema">

                    <com.google.android.material.textfield.MaterialAutoCompleteTextView
                        android:id="@+id/sp_theme_mode"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="none" />
                </com.google.android.material.textfield.TextInputLayout>

                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="12dp"
                    android:hint="Estilo de tema">

                    <com.google.android.material.textfield.MaterialAutoCompleteTextView
                        android:id="@+id/sp_theme_style"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="none" />
                </com.google.android.material.textfield.TextInputLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Se aplica al instante."
                    android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                    android:alpha="0.7" />
            </LinearLayout>

            <LinearLayout
                android:id="@+id/section_mcp"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:visibility="gone">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="MCP servers"
                    android:textAppearance="@style/TextAppearance.Material3.TitleMedium"
                    android:layout_marginBottom="8dp" />

                <com.google.android.material.materialswitch.MaterialSwitch
                    android:id="@+id/sw_mcp_enabled"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Habilitar MCP" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="8dp"
                    android:text="Locales integrados (filesystem y notes); calendar es stub."
                    android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                    android:alpha="0.7" />

                <LinearLayout
                    android:id="@+id/mcp_container"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:layout_marginBottom="8dp" />

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btn_add_mcp"
                    style="@style/Widget.Material3.Button.TonalButton"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Agregar MCP" />
            </LinearLayout>

            <LinearLayout
                android:id="@+id/section_local"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:visibility="gone">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Local processing"
                    android:textAppearance="@style/TextAppearance.Material3.TitleMedium"
                    android:layout_marginBottom="8dp" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Opciones experimentales para STT y razonamiento local."
                    android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                    android:alpha="0.7"
                    android:layout_marginBottom="12dp" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Gestor de modelos"
                    android:textAppearance="@style/TextAppearance.Material3.TitleMedium"
                    android:layout_marginBottom="6dp" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Explora repos y elige que modelos aparecen en Local."
                    android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                    android:alpha="0.7"
                    android:layout_marginBottom="8dp" />

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btn_open_model_manager"
                    style="@style/Widget.Material3.Button.TonalButton"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Abrir gestor de modelos"
                    android:layout_marginBottom="12dp" />

                <TextView
                    android:id="@+id/tv_memory_info"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="12dp"
                    android:textAppearance="@style/TextAppearance.Material3.BodyMedium" />

                <TextView
                    android:id="@+id/tv_storage_info"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="12dp"
                    android:textAppearance="@style/TextAppearance.Material3.BodyMedium" />

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btn_clear_model_storage"
                    style="@style/Widget.Material3.Button.OutlinedButton"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Limpiar almacenamiento de modelos"
                    android:layout_marginBottom="12dp" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Gemini Nano (AICore)"
                    android:textAppearance="@style/TextAppearance.Material3.TitleMedium"
                    android:layout_marginBottom="6dp" />

                <TextView
                    android:id="@+id/tv_aicore_status"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                    android:alpha="0.8"
                    android:layout_marginBottom="12dp" />

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btn_test_gemini_nano"
                    style="@style/Widget.Material3.Button.TonalButton"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Test Gemini Nano"
                    android:layout_marginBottom="16dp" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Modelos locales"
                    android:textAppearance="@style/TextAppearance.Material3.TitleMedium"
                    android:layout_marginBottom="8dp" />

                <LinearLayout
                    android:id="@+id/aicore_models_container"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical" />
            </LinearLayout>

            <LinearLayout
                android:id="@+id/section_model_manager"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:visibility="gone">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Gestor de Modelos"
                    android:textAppearance="@style/TextAppearance.Material3.TitleMedium"
                    android:layout_marginBottom="8dp" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Configura repositorios de Hugging Face y selecciona modelos compatibles."
                    android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                    android:alpha="0.7"
                    android:layout_marginBottom="12dp" />

                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:hint="Hugging Face API key"
                    android:layout_marginBottom="8dp">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/et_hf_api_key"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="textPassword" />
                </com.google.android.material.textfield.TextInputLayout>

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btn_save_hf_key"
                    style="@style/Widget.Material3.Button.TonalButton"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Guardar API key"
                    android:layout_marginBottom="12dp" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Hugging Face repos"
                    android:textAppearance="@style/TextAppearance.Material3.TitleMedium"
                    android:layout_marginBottom="6dp" />

                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:hint="repo_id (org/model)"
                    android:layout_marginBottom="8dp">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/et_hf_repo"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="text" />
                </com.google.android.material.textfield.TextInputLayout>

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btn_add_hf_repo"
                    style="@style/Widget.Material3.Button.TonalButton"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Agregar repo"
                    android:layout_marginBottom="8dp" />

                <LinearLayout
                    android:id="@+id/hf_repo_container"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:layout_marginBottom="8dp" />

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btn_scan_hf_repos"
                    style="@style/Widget.Material3.Button.TonalButton"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Escanear repos"
                    android:layout_marginBottom="6dp" />

                <TextView
                    android:id="@+id/tv_hf_scan_status"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                    android:alpha="0.7"
                    android:layout_marginBottom="12dp" />

            </LinearLayout>

        </LinearLayout>
    </androidx.core.widget.NestedScrollView>

</androidx.coordinatorlayout.widget.CoordinatorLayout>
